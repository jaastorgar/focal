/* ==========================================================================
   FOCAL – Dashboard (home.css) 
   - Bienvenida con realce y animación
   - Navbar con "Menú" en píldora + dropdown estilado
   - Tarjetas del home (resumen)
   ========================================================================== */

/* 1) Variables & fuentes --------------------------------------------------- */
:root{
  --primary-purple:#4A008B;
  --secondary-purple:#7B1FA2;
  --light-purple:#F3E8FF;
  --header-footer-bg:#2C0140;
  --dark-text:#343A40;
  --muted-text:#555555;
  --white:#FFFFFF;
  --turquoise:#0AE8C6;

  --border-color:#e9e9ef;
  --shadow-1:0 6px 20px rgba(15,15,30,.06);
  --shadow-2:0 14px 34px rgba(15,15,30,.10);
  --shadow-focus:0 0 0 3px rgba(10,232,198,.25);

  --font-primary:'InterTight', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-secondary:'HankenGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  --card-desc-max:110px;
}

@font-face{font-family:'InterTight';src:url('../fonts/InterTight/InterTight-Bold.ttf') format('truetype');font-weight:800;font-style:normal;font-display:swap;}
@font-face{font-family:'InterTight';src:url('../fonts/InterTight/InterTight-Light.ttf') format('truetype');font-weight:300;font-style:normal;font-display:swap;}
@font-face{font-family:'HankenGrotesk';src:url('../fonts/HankenGrotesk/HankenGrotesk-Regular.ttf') format('truetype');font-weight:400;font-style:normal;font-display:swap;}
@font-face{font-family:'HankenGrotesk';src:url('../fonts/HankenGrotesk/HankenGrotesk-Light.ttf') format('truetype');font-weight:300;font-style:normal;font-display:swap;}

/* 2) Reset & base ---------------------------------------------------------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  min-height:100vh;display:flex;flex-direction:column;
  background:#f7f8fb;color:var(--dark-text);line-height:1.6;
  font-family:var(--font-secondary);
}

/* 3) Header / Navbar ------------------------------------------------------- */
.app-header{
  position:sticky;top:0;z-index:1000;
  background:var(--primary-purple);color:#fff;
  box-shadow:0 2px 10px rgba(0,0,0,.12);
}
.navbar{
  max-width:1280px;margin:0 auto;padding:14px 20px;
  display:flex;align-items:center;justify-content:space-between;gap:12px;
}
.navbar-left{display:flex;align-items:center;gap:12px}
.navbar-brand{
  font-family:var(--font-primary);font-weight:800;letter-spacing:.3px;
  font-size:1.6rem;user-select:none;
}

.navbar-right{display:flex;align-items:center;gap:16px}
#nav-username{
  color:#fff;font-weight:700;font-family:var(--font-primary);
  font-size:1rem;line-height:1;max-width:220px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  opacity:0;transform:translateY(-6px);transition:opacity .25s ease, transform .25s ease;
}
.nav-user-block.show-name #nav-username{opacity:1;transform:none}

/* Botón “Menú” estilo píldora --------------------------------------------- */
.menu-pill{
  appearance:none;border:1px solid rgba(255,255,255,.22);
  background:rgba(255,255,255,.06);color:#fff;
  padding:.5rem .9rem;border-radius:14px;cursor:pointer;
  font-weight:700;letter-spacing:.2px;
  display:inline-flex;align-items:center;gap:.45rem;
  backdrop-filter:blur(4px);
  transition:transform .15s ease, background .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.menu-pill::after{
  content:"▾";font-size:.95rem;opacity:.85;transition:transform .2s ease;
}
.nav-user-block.open .menu-pill::after{transform:rotate(180deg)}
.menu-pill:hover{transform:translateY(-1px);background:rgba(255,255,255,.10)}
.menu-pill:focus{outline:none;box-shadow:var(--shadow-focus)}

/* Dropdown del menú -------------------------------------------------------- */
/* Estructura esperada (el JS puede crearla o ya existir en el HTML):
  <div class="menu-dropdown">
    <a href="/perfil"><i class="bi bi-person"></i> Mi Cuenta</a>
    <a href="/config"><i class="bi bi-gear"></i> Ajustes</a>
    <a href="/logout"><i class="bi bi-box-arrow-right"></i> Cerrar sesión</a>
  </div>
*/
.nav-user-block{position:relative}
.menu-dropdown{
  position:absolute;right:0;top:calc(100% + 10px);min-width:210px;
  background:var(--primary-purple);border:1px solid rgba(255,255,255,.14);
  border-radius:14px;padding:.4rem 0;box-shadow:0 18px 40px rgba(0,0,0,.35);
  display:none;opacity:0;transform:translateY(-6px);
  transition:opacity .18s ease, transform .18s ease;
}
.menu-dropdown a{
  display:flex;align-items:center;gap:.6rem;
  padding:.75rem 1rem;text-decoration:none;border-bottom:1px solid rgba(255,255,255,.08);
  color:#fff;font-weight:600;
}
.menu-dropdown a:last-child{border-bottom:none}
.menu-dropdown a i{opacity:.9}
.menu-dropdown a:hover{
  background:linear-gradient(90deg, rgba(122,31,162,.25), rgba(10,232,198,.18));
}
.nav-user-block.open .menu-dropdown,
.nav-user-block:focus-within .menu-dropdown{
  display:block;opacity:1;transform:none;
}

/* 4) Banner de bienvenida --------------------------------------------------- */
.welcome-banner{
  text-align:center;margin:1.6rem auto 0; padding:0 16px;
  max-width:1100px;
}
.welcome-text{
  --sz:clamp(28px, 3.2vw + 12px, 44px);
  font-family:var(--font-primary);font-weight:900;font-size:var(--sz);line-height:1.15;
  letter-spacing:.2px;color:#fff;position:relative;display:inline-block;
  background:linear-gradient(90deg,var(--secondary-purple) 0%, var(--secondary-purple) 45%, var(--secondary-purple) 100%);
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
  padding:.35rem .55rem;border-radius:14px;
  text-shadow:0 1px 0 rgba(0,0,0,.1);
}
.welcome-text .name,
.welcome-text strong{
  background:linear-gradient(90deg, var(--turquoise), #7ef4e3);
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
}
.welcome-text::after{
  content:"";position:absolute;left:6px;right:6px;bottom:-8px;height:6px;border-radius:8px;
  background:linear-gradient(90deg, var(--turquoise), rgba(122,31,162,.6));
  opacity:.75;filter:blur(.2px);
}

/* Estados de salida (el JS agrega .banner-hide) */
.banner-hide{
  opacity:0;transform:translateY(-10px);transition:opacity .35s ease, transform .35s ease, height .35s ease, margin .35s ease;
}

/* 5) Contenido & tarjetas --------------------------------------------------- */
.dashboard-container{width:90%;max-width:1200px;margin:0 auto;padding:42px 0 48px}
.main-navigation{margin-top:14px}

.card-grid{
  display:grid;gap:24px;
  grid-template-columns:repeat(auto-fit, minmax(250px,1fr));
}
.card{
  position:relative;isolation:isolate;
  background:#fff;border:1px solid var(--border-color);border-radius:22px;
  box-shadow:var(--shadow-1);text-decoration:none;color:inherit;
  padding:28px 22px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;
  min-height:220px;transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease, background-color .25s ease;
  overflow:hidden;
}
.card::after{
  content:"";position:absolute;inset:-1px;z-index:-1;border-radius:24px;
  background:linear-gradient(145deg, rgba(122,31,162,.18), rgba(10,232,198,.18));
  opacity:0;transition:opacity .25s ease;
}
.card:hover::after{opacity:1}
.card:hover{
  transform:translateY(-6px);box-shadow:var(--shadow-2);border-color:rgba(74,0,139,.25);
  background:linear-gradient(180deg, #ffffff 0%, #fdfbff 100%);
}
.card:focus-visible{outline:none;box-shadow:var(--shadow-2), var(--shadow-focus)}
.card-icon{font-size:48px;color:var(--primary-purple);margin-bottom:12px;line-height:1}
.card-title{
  font-family:var(--font-primary);font-weight:800;font-size:1.45rem;color:var(--primary-purple);
}
.card-description{
  color:var(--muted-text);font-size:1rem;margin-top:.4rem;
  max-height:0;opacity:0;visibility:hidden;transform:translateY(-6px);pointer-events:none;
  transition:max-height .35s ease, opacity .25s ease, transform .25s ease, visibility 0s linear .25s;
}
.card:hover .card-description,
.card:focus-within .card-description{
  max-height:var(--card-desc-max);opacity:1;visibility:visible;transform:translateY(0);pointer-events:auto;
  transition:max-height .45s ease, opacity .25s ease, transform .25s ease, visibility 0s;
}

/* 6) Footer ----------------------------------------------------------------- */
.app-footer{
  margin-top:auto;background:var(--primary-purple);color:#fff;
  text-align:center;padding:1.2rem;font-size:.92rem;
}

/* 7) Responsivo ------------------------------------------------------------- */
@media (max-width: 992px){
  .welcome-text{--sz:clamp(26px, 3vw + 10px, 38px)}
  .card{min-height:210px}
}
@media (max-width: 820px){
  .navbar{padding:12px 16px}
  #nav-username{max-width:160px}
  .menu-pill{padding:.45rem .8rem}
}
@media (max-width: 640px){
  .navbar-brand{font-size:1.45rem}
  .menu-dropdown{min-width:190px}
  .welcome-text{--sz:clamp(24px, 2.8vw + 10px, 34px)}
}
@media (max-width: 520px){
  .dashboard-container{width:94%}
  .card{padding:24px 18px;border-radius:20px;min-height:200px}
  .card-title{font-size:1.18rem}
  .card-icon{font-size:42px}
}