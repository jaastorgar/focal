/* ==========================================================================
   FOCAL - Lista de Recordatorios (UI base + Asistente con GIF/Globo)
   ========================================================================== */

/* ---------- 1) Variables ---------- */
:root{
  --primary-purple:#4A008B;
  --secondary-purple:#7B1FA2;
  --light-purple:#F3E8FF;
  --header-footer-bg:#2C0140;
  --dark-text:#343A40;
  --muted-text:#555;
  --white:#fff;
  --hover-dark-purple:#38006B;
  --border-color:#dee2e6;

  --shadow-1:0 2px 8px rgba(0,0,0,.08);
  --shadow-2:0 10px 22px rgba(0,0,0,.14);
  --shadow-3:0 18px 44px rgba(0,0,0,.22);

  --danger-color:#dc3545;
  --warning-color:#ffc107;
  --info-color:#17a2b8;

  --danger-bg:#ffebee;
  --warning-bg:#fffde7;
  --info-bg:#e3f2fd;

  --font-primary:'InterTight', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-secondary:'HankenGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Tipografías (si usas archivos locales, mantenlos como en tu repo) */
@font-face{font-family:'InterTight';src:url('../fonts/InterTight/InterTight-Bold.ttf') format('truetype');font-weight:700;font-style:normal;font-display:swap}
@font-face{font-family:'InterTight';src:url('../fonts/InterTight/InterTight-Light.ttf') format('truetype');font-weight:300;font-style:normal;font-display:swap}
@font-face{font-family:'HankenGrotesk';src:url('../fonts/HankenGrotesk/HankenGrotesk-Regular.ttf') format('truetype');font-weight:400;font-style:normal;font-display:swap}
@font-face{font-family:'HankenGrotesk';src:url('../fonts/HankenGrotesk/HankenGrotesk-Light.ttf') format('truetype');font-weight:300;font-style:normal;font-display:swap}

/* ---------- 2) Base ---------- */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:var(--font-secondary);
  color:var(--dark-text);
  background:#f8f9fa;
  min-height:100vh;
  display:flex; flex-direction:column;
}
.container{width:90%;max-width:1200px;margin:0 auto}

/* ---------- 3) Encabezado ---------- */
.app-header{background:var(--primary-purple);color:#fff;padding:1rem 0;box-shadow:var(--shadow-1)}
.app-header nav.container{display:flex;align-items:center;justify-content:space-between}
.logo{font-family:var(--font-primary);font-weight:800;color:#fff;text-decoration:none;font-size:1.5rem}
.nav-links{display:flex;gap:1rem;list-style:none}
.nav-links a{color:#fff;text-decoration:none;padding:.5rem .8rem;border-radius:8px}
.nav-links a:hover{background:rgba(255,255,255,.12)}

/* ---------- 4) Página ---------- */
main{flex:1;padding:2rem 0 4rem}
.page-title{
  text-align:center;margin-bottom:1.5rem;
  font-family:var(--font-primary);font-weight:800;font-size:2.2rem;color:var(--primary-purple)
}

/* Mensajes Django */
.alert{padding:1rem;border-radius:10px;margin:.8rem 0;border:1px solid var(--border-color);background:#fff;box-shadow:var(--shadow-1)}
.alert-success{background:#d4edda;color:#155724}
.alert-info{background:#d1ecf1;color:#0c5460}
.alert-warning{background:#fff3cd;color:#856404}
.alert-danger,.alert-error{background:#f8d7da;color:#721c24}

/* ---------- 5) Filtros ---------- */
.filtros-recordatorios{
  background:#fff;border:1px solid var(--border-color);
  border-radius:14px;padding:1rem;display:flex;gap:.8rem;align-items:center;
  box-shadow:var(--shadow-1);margin-bottom:1.2rem
}
.filtro-btn{
  font-family:var(--font-primary);font-weight:800;
  color:var(--primary-purple);background:var(--light-purple);
  border:1px solid var(--border-color);border-radius:10px;
  padding:.55rem 1rem;text-decoration:none;transition:.15s ease
}
.filtro-btn:hover,.filtro-btn.activo{background:var(--primary-purple);color:#fff;border-color:var(--primary-purple);transform:translateY(-1px)}

/* ---------- 6) Tabla ---------- */
.table-container{width:100%;overflow-x:auto;background:#fff;border:1px solid var(--border-color);border-radius:14px;box-shadow:var(--shadow-1)}
table{width:100%;border-collapse:collapse;min-width:900px}
thead{background:#fff;border-bottom:2px solid var(--border-color)}
th{padding:1rem 1.2rem;text-align:left;text-transform:uppercase;letter-spacing:.5px;font-family:var(--font-primary);font-weight:800;color:var(--dark-text);font-size:.8rem}
td{padding:1rem 1.2rem;border-bottom:1px solid #9611ba;color:var(--muted-text)}
tbody tr:last-child td{border-bottom:none}
tbody tr:hover{background:var(--light-purple)}

/* Estados */
.vencido{background:var(--danger-bg)!important}
.proximo-vencer{background:var(--warning-bg)!important}
.stock-bajo{background:var(--info-bg)!important}
.estado-indicador{display:inline-block;padding:.25rem .5rem;border-radius:12px;font-size:.8rem;font-weight:700}
.estado-vencido{background:var(--danger-bg);color:var(--danger-color)}
.estado-proximo{background:var(--warning-bg);color:var(--warning-color)}
.estado-normal{background:var(--info-bg);color:var(--info-color)}

/* ---------- 7) Vacío ---------- */
.sin-recordatorios{
  background:#fff;border:1px solid var(--border-color);border-radius:14px;
  padding:3rem 1rem;text-align:center;color:var(--muted-text);
  font-style:italic;box-shadow:var(--shadow-1)
}

/* ---------- 8) Botones ---------- */
.btn{display:inline-block;border-radius:10px;padding:.55rem 1rem;text-decoration:none;cursor:pointer;font-family:var(--font-primary);font-weight:800;transition:transform .15s ease, box-shadow .15s ease}
.btn-primary{background:var(--primary-purple);color:#fff}
.btn-primary:hover{transform:translateY(-1px);box-shadow:var(--shadow-2);background:var(--hover-dark-purple)}
.btn-secondary{background:#666;color:#fff}
.btn-secondary:hover{transform:translateY(-1px);box-shadow:var(--shadow-2)}
.btn-success{background:#28a745;color:#fff}
.btn-success:hover{transform:translateY(-1px);box-shadow:var(--shadow-2)}
.btn-danger{background:#dc3545;color:#fff}
.btn-danger:hover{transform:translateY(-1px);box-shadow:var(--shadow-2)}
.btn-sm{padding:.4rem .6rem;font-size:.85rem}

/* ---------- 9) Footer ---------- */
.app-footer{background:var(--primary-purple);color:#fff;text-align:center;padding:1.4rem;margin-top:auto;font-size:.92rem}

/* ---------- 10) Responsive ---------- */
@media (max-width:768px){
  .container, main{width:94%}
  .page-title{font-size:1.9rem}
  .filtros-recordatorios{flex-wrap:wrap}
  .filtro-btn{flex:1;text-align:center}
  .btn{width:100%;margin-top:6px}
  .tabla-inventario, .tabla-inventario thead, .tabla-inventario tbody, .tabla-inventario th, .tabla-inventario td, .tabla-inventario tr{display:block}
  .tabla-inventario thead tr{position:absolute;top:-9999px;left:-9999px}
  .tabla-inventario tr{border:1px solid var(--border-color);border-radius:10px;margin-bottom:14px;box-shadow:var(--shadow-1)}
  .tabla-inventario td{border:none;border-bottom:1px solid var(--border-color);position:relative;padding:12px 15px 12px 42%;text-align:right}
  .tabla-inventario td:last-child{border-bottom:none}
  .tabla-inventario td::before{content:attr(data-label) ": ";position:absolute;left:15px;top:12px;width:35%;text-align:left;font-weight:700;color:var(--muted-text);font-family:var(--font-primary)}
}

/* ====================== 11) Botón flotante – Asistente ===================== */
.assistant-container{
  position:fixed; right:24px; bottom:68px; z-index:900;
}
.floating-assistant{
  width:74px; height:74px; border-radius:50%;
  background:#fff; border:3px solid var(--primary-purple);
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; box-shadow:var(--shadow-2);
  transition:transform .18s ease, box-shadow .18s ease;
  overflow:hidden; position:relative;
}
.floating-assistant:hover{transform:translateY(-4px) scale(1.03); box-shadow:var(--shadow-3)}
.floating-assistant img{width:100%; height:100%; object-fit:cover; border-radius:50%}

/* Globo de diálogo */
.assistant-bubble{
  position:absolute; right:90px; bottom:12px;
  background:#fff; color:#2a1840; border:1px solid var(--border-color);
  border-radius:12px; padding:10px 12px; font-weight:700;
  box-shadow:var(--shadow-2); white-space:nowrap;
  opacity:0; transform:translateY(6px) scale(.98); pointer-events:none;
  transition:opacity .22s ease, transform .22s ease;
}
.assistant-bubble::after{
  content:""; position:absolute; right:-8px; bottom:16px;
  border:8px solid transparent; border-left-color:#fff;
  filter:drop-shadow(1px 0 0 var(--border-color));
}
.floating-assistant.show-bubble .assistant-bubble{
  opacity:1; transform:translateY(0) scale(1);
}

@media (max-width:768px){
  .assistant-container{right:18px; bottom:82px}
  .floating-assistant{width:58px; height:58px}
}